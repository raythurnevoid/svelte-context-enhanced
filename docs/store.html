<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="Svelte demo app" />
		<link rel="icon" href="/svelte-context-enhanced/favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<meta http-equiv="content-security-policy" content="">
	<link rel="stylesheet" href="/svelte-context-enhanced/_app/assets/pages/__layout.svelte-30338af8.css">
	<link rel="stylesheet" href="/svelte-context-enhanced/_app/assets/ModulePage.svelte_svelte_type_style_lang-76c91d63.css">
	<link rel="stylesheet" href="/svelte-context-enhanced/_app/assets/CopyButton-abbb7cae.css">
	<link rel="stylesheet" href="/svelte-context-enhanced/_app/assets/PageContentsNavItem-51890c07.css">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/start-0e73b30b.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/index-565a60eb.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/index-7978aa5e.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/paths-396f020f.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/preload-helper-413b0d67.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/pages/__layout.svelte-fd84a6e7.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/ModulePage.svelte_svelte_type_style_lang-b472ed71.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/stores-a8c6f927.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/pages/store/index.svelte-19339e3d.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/CopyButton-06291b5b.js">
	<link rel="modulepreload" href="/svelte-context-enhanced/_app/chunks/PageContentsNavItem-b903a6d1.js">
	</head>
	<body>
		<div id="svelte">






<div class="Layout svelte-1xx3pa7">



<aside class="Drawer mdc-drawer"><div class="mdc-drawer__content"><nav class="mdc-deprecated-list" role="list"><a href="/svelte-context-enhanced/" class="mdc-deprecated-list-item" style="" tabindex="-1"><span class="mdc-deprecated-list-item__ripple"></span><span class="mdc-deprecated-list-item__text">Main Page
					</span>
				</a><a href="/svelte-context-enhanced/basic" class="mdc-deprecated-list-item" style="" tabindex="-1"><span class="mdc-deprecated-list-item__ripple"></span><span class="mdc-deprecated-list-item__text">Basic Usage
					</span>
				</a><a href="/svelte-context-enhanced/store" class="mdc-deprecated-list-item" style="" tabindex="-1"><span class="mdc-deprecated-list-item__ripple"></span><span class="mdc-deprecated-list-item__text">Context Store
					</span>
				</a><a href="/svelte-context-enhanced/advanced" class="mdc-deprecated-list-item" style="" tabindex="-1"><span class="mdc-deprecated-list-item__ripple"></span><span class="mdc-deprecated-list-item__text">Advanced Usage
					</span>
				</a>
</nav>
</div>
</aside>
	
	<div class="Layout__app-content mdc-drawer-app-content">



<div class="TopAppBar svelte-zflbgr">

<header class="mdc-top-app-bar" style=""><div class="mdc-top-app-bar__row"><section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start"><div class="menu-button-wrapper svelte-zflbgr"><button class="material-icons mdc-icon-button mdc-icon-button--display-flex mdc-top-app-bar__navigation-icon" style=""><div class="mdc-icon-button__ripple"></div>
  menu</button></div>
				<span class="mdc-top-app-bar__title">Svelte Typed Context</span>
</section>
</div>
</header>
	<div class="mdc-top-app-bar--fixed-adjust">







<main class="svelte-12m2c63"><div class="svelte-nkt23a">



<div class="page-title svelte-vpc4m"><h1 class="mdc-typography--headline1" id="usage">Context Store</h1>
</div>
		<p>With <code>createContextStore</code> and
			<code>createContextWritableStore</code> you can can take advantage of typings
			when using Svelte&#39;s store as context value.
		</p>

		



<div class="svelte-17496yn"><code class="svelte-17496yn">BasicExample.svelte</code>
	



<div class="shell-snippet-wrapper svelte-19ky9ng"><div><code style="display:none"></code>

<pre class="language-svelte" command-line data-output="2-17"><code class="language-svelte"><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span> readable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte/store"</span><span class="token punctuation">;</span>

	<span class="token keyword">import</span> StoreExampleChild <span class="token keyword">from</span> <span class="token string">"./StoreExampleChild.svelte"</span><span class="token punctuation">;</span>
	<span class="token keyword">import</span> <span class="token punctuation">{</span> setCounterContext<span class="token punctuation">,</span> setTimeContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./StoreExampleContext"</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> <span class="token function-variable function">getCurrentTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
		<span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">"undefined"</span> <span class="token operator">&amp;&amp;</span>
		<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleTimeString</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>language<span class="token punctuation">,</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">timeStyle</span><span class="token operator">:</span> <span class="token string">"medium"</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> time$ <span class="token operator">=</span> <span class="token function">setTimeContext</span><span class="token punctuation">(</span><span class="token function">getCurrentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> interval <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token function">getCurrentTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearInterval</span><span class="token punctuation">(</span>interval<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> counter$ <span class="token operator">=</span> <span class="token function">setCounterContext</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token language-javascript"><span class="token punctuation">{</span>$time$<span class="token punctuation">}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token language-javascript"><span class="token punctuation">{</span>$counter$<span class="token punctuation">}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
Child:
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StoreExampleChild</span> <span class="token punctuation">/></span></span>
<!-- HTML_TAG_END --></code></pre></div>
	<div class="code-commands svelte-19ky9ng">



<div class="copy-button-wrapper svelte-1nm6ym5"><button class="copy-button mdc-icon-button mdc-icon-button--display-flex" style=""><div class="mdc-icon-button__ripple"></div>
  <i class="material-icons mdc-icon-button__icon" aria-hidden="true">content_copy</i></button>
</div></div></div>


</div>

		



<div class="svelte-17496yn"><code class="svelte-17496yn">BasicExampleChild.svelte</code>
	



<div class="shell-snippet-wrapper svelte-19ky9ng"><div><code style="display:none"></code>

<pre class="language-svelte" command-line data-output="2-17"><code class="language-svelte"><!-- HTML_TAG_START --><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> <span class="token punctuation">{</span> getCounterContext<span class="token punctuation">,</span> getTimeContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./StoreExampleContext"</span><span class="token punctuation">;</span>

	<span class="token keyword">const</span> counter$ <span class="token operator">=</span> <span class="token function">getCounterContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> time$ <span class="token operator">=</span> <span class="token function">getTimeContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token language-javascript"><span class="token punctuation">{</span>$time$<span class="token punctuation">}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">on:</span>click=</span><span class="token language-javascript"><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> $counter$<span class="token operator">++</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<!-- HTML_TAG_END --></code></pre></div>
	<div class="code-commands svelte-19ky9ng">



<div class="copy-button-wrapper svelte-1nm6ym5"><button class="copy-button mdc-icon-button mdc-icon-button--display-flex" style=""><div class="mdc-icon-button__ripple"></div>
  <i class="material-icons mdc-icon-button__icon" aria-hidden="true">content_copy</i></button>
</div></div></div>


</div>

		



<div class="svelte-17496yn"><code class="svelte-17496yn">BasicExampleContext.ts</code>
	



<div class="shell-snippet-wrapper svelte-19ky9ng"><div><code style="display:none"></code>

<pre class="language-ts" command-line data-output="2-17"><code class="language-ts"><!-- HTML_TAG_START --><span class="token keyword">import</span> <span class="token punctuation">{</span>
	createContextStore<span class="token punctuation">,</span>
	createContextWritableStore<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@raythurnevoid/svelte-context-enhanced"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">[</span>setCounterContext<span class="token punctuation">,</span> getCounterContext<span class="token punctuation">]</span> <span class="token operator">=</span>
	<span class="token generic-function"><span class="token function">createContextWritableStore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">[</span>setTimeContext<span class="token punctuation">,</span> getTimeContext<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">createContextStore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<!-- HTML_TAG_END --></code></pre></div>
	<div class="code-commands svelte-19ky9ng">



<div class="copy-button-wrapper svelte-1nm6ym5"><button class="copy-button mdc-icon-button mdc-icon-button--display-flex" style=""><div class="mdc-icon-button__ripple"></div>
  <i class="material-icons mdc-icon-button__icon" aria-hidden="true">content_copy</i></button>
</div></div></div>


</div>

		



<div class="section-title svelte-u91eu6"><h2 class="mdc-typography--headline2 svelte-u91eu6" id="result">Result</h2>
</div>
		

<div class="svelte-1odoma9">false
<br>
0

<br>
<br>
Child:
<br>
false
<br>
<button>add</button>
</div>

		



<div class="section-title svelte-u91eu6"><h2 class="mdc-typography--headline2 svelte-u91eu6" id="api">API</h2>
</div>
		<p>Both <code>createContextStore</code> and
			<code>createContextWritableStore</code> are proxies to Svelte&#39;s
			<code>readable</code>
			and <code>writable</code> stores, because of that they share the same API.
		</p>
		<p>



<div class="shell-snippet-wrapper svelte-19ky9ng"><div><code style="display:none"></code>

<pre class="language-ts" command-line data-output="2-17"><code class="language-ts"><!-- HTML_TAG_START --><span class="token keyword">import</span> <span class="token punctuation">{</span> readable <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte/store"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> Writable<span class="token punctuation">,</span> Readable<span class="token punctuation">,</span> StartStopNotifier <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"svelte/store"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createContextWritableStore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>value<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> start<span class="token operator">?</span><span class="token operator">:</span> StartStopNotifier<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token operator">=></span> Writable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Writable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createContextStore</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token keyword">typeof</span> readable<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> Readable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<!-- HTML_TAG_END --></code></pre></div>
	<div class="code-commands svelte-19ky9ng">



<div class="copy-button-wrapper svelte-1nm6ym5"><button class="copy-button mdc-icon-button mdc-icon-button--display-flex" style=""><div class="mdc-icon-button__ripple"></div>
  <i class="material-icons mdc-icon-button__icon" aria-hidden="true">content_copy</i></button>
</div></div></div>

</p>
		



<footer class="svelte-oryu"><div class="content svelte-oryu"><div><a href="/svelte-context-enhanced/basic" class="mdc-button mdc-button--outlined" style=""><div class="mdc-button__ripple"></div>
  <i class="material-icons mdc-button__icon" aria-hidden="true">arrow_back</i>
					<span class="mdc-button__label">BASIC USAGE</span></a></div>
		<div><a href="/svelte-context-enhanced/advanced" class="mdc-button mdc-button--raised" style=""><div class="mdc-button__ripple"></div>
  <span class="mdc-button__label">ADVANCED USAGE</span>
					<i class="material-icons mdc-button__icon" aria-hidden="true">arrow_forward</i></a></div></div>
</footer>
</div>
	<div class="page-contents-nav" aria-labelledby="page-contents-nav__heading"><nav class="svelte-gstn3q"><span class="mdc-typography--overline" id="page-contents-nav__heading">Contents
		</span>
		<ul class="svelte-gstn3q"></ul></nav>
</div>
</main>
</div>
</div>
</div>
</div>


		<script type="module" data-hydrate="ks4gum">
		import { start } from "/svelte-context-enhanced/_app/start-0e73b30b.js";
		start({
			target: document.querySelector('[data-hydrate="ks4gum"]').parentNode,
			paths: {"base":"/svelte-context-enhanced","assets":"/svelte-context-enhanced"},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/svelte-context-enhanced/_app/pages/__layout.svelte-fd84a6e7.js"),
						import("/svelte-context-enhanced/_app/pages/store/index.svelte-19339e3d.js")
				],
				params: {},
				routeId: "store"
			}
		});
	</script><script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/svelte-context-enhanced/api/get-file-content.bm9kZV9tb2R1bGVzL0ByYXl0aHVybmV2b2lkL3N2ZWx0ZS1jb250ZXh0LWVuaGFuY2VkL3N0b3JlLmQudHM%3D">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"import { readable } from \"svelte/store\";\r\nimport type { Writable, Readable, StartStopNotifier } from \"svelte/store\";\r\nexport declare function createContextWritableStore\u003CT>(): readonly [(value?: T, start?: StartStopNotifier\u003CT>) => Writable\u003CT>, () => Writable\u003CT>];\r\nexport declare function createContextStore\u003CT>(): readonly [typeof readable, () => Readable\u003CT>];\r\n"}</script>
	<script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/svelte-context-enhanced/api/get-file-content.c3JjL2xpYi9jb21wb25lbnRzL2V4YW1wbGVzL3N0b3JlL1N0b3JlRXhhbXBsZS5zdmVsdGU%3D">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"\u003Cscript lang=\"ts\">\r\n\timport { readable } from \"svelte/store\";\r\n\r\n\timport StoreExampleChild from \"./StoreExampleChild.svelte\";\r\n\timport { setCounterContext, setTimeContext } from \"./StoreExampleContext\";\r\n\r\n\tconst getCurrentTime = () =>\r\n\t\ttypeof window !== \"undefined\" &&\r\n\t\tnew Date().toLocaleTimeString(navigator.language, {\r\n\t\t\ttimeStyle: \"medium\",\r\n\t\t});\r\n\r\n\tconst time$ = setTimeContext(getCurrentTime(), (set) => {\r\n\t\tconst interval = setInterval(() => set(getCurrentTime()), 1000);\r\n\t\treturn () => clearInterval(interval);\r\n\t});\r\n\r\n\tconst counter$ = setCounterContext(0);\r\n\u003C/script>\r\n\r\n{$time$}\r\n\u003Cbr />\r\n{$counter$}\r\n\r\n\u003Cbr />\r\n\u003Cbr />\r\nChild:\r\n\u003Cbr />\r\n\u003CStoreExampleChild />\r\n"}</script>
	<script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/svelte-context-enhanced/api/get-file-content.c3JjL2xpYi9jb21wb25lbnRzL2V4YW1wbGVzL3N0b3JlL1N0b3JlRXhhbXBsZUNoaWxkLnN2ZWx0ZQ%3D%3D">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"\u003Cscript lang=\"ts\">\r\n\timport { getCounterContext, getTimeContext } from \"./StoreExampleContext\";\r\n\r\n\tconst counter$ = getCounterContext();\r\n\tconst time$ = getTimeContext();\r\n\u003C/script>\r\n\r\n{$time$}\r\n\u003Cbr />\r\n\u003Cbutton on:click={() => $counter$++}>add\u003C/button>\r\n"}</script>
	<script type="application/json" sveltekit:data-type="data" sveltekit:data-url="/svelte-context-enhanced/api/get-file-content.c3JjL2xpYi9jb21wb25lbnRzL2V4YW1wbGVzL3N0b3JlL1N0b3JlRXhhbXBsZUNvbnRleHQudHM%3D">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"import {\r\n\tcreateContextStore,\r\n\tcreateContextWritableStore,\r\n} from \"@raythurnevoid/svelte-context-enhanced\";\r\n\r\nexport const [setCounterContext, getCounterContext] =\r\n\tcreateContextWritableStore\u003Cnumber>();\r\n\r\nexport const [setTimeContext, getTimeContext] = createContextStore\u003Cstring>();\r\n"}</script></div>
	</body>
</html>
